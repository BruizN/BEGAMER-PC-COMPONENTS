{
  "configuration" : { },
  "description" : "Description",
  "documentation" : { },
  "id" : 0,
  "model" : {
    "people" : [ {
      "description" : "Persona interesada en armar o mejorar su PC.",
      "id" : "1",
      "location" : "Unspecified",
      "name" : "Cliente",
      "properties" : {
        "structurizr.dsl.identifier" : "cliente"
      },
      "relationships" : [ {
        "description" : "Busca componentes y compra",
        "destinationId" : "3",
        "id" : "9",
        "sourceId" : "1",
        "tags" : "Relationship"
      }, {
        "description" : "Consulta Productos Disponibles (Swagger UI)",
        "destinationId" : "4",
        "id" : "15",
        "sourceId" : "1",
        "tags" : "Relationship",
        "technology" : "HTTPS/JSON"
      } ],
      "tags" : "Element,Person"
    }, {
      "description" : "Gestiona el stock y los precios de componentes.",
      "id" : "2",
      "location" : "Unspecified",
      "name" : "Administrador",
      "properties" : {
        "structurizr.dsl.identifier" : "admin"
      },
      "relationships" : [ {
        "description" : "Gestiona inventario",
        "destinationId" : "3",
        "id" : "10",
        "sourceId" : "2",
        "tags" : "Relationship"
      }, {
        "description" : "Gestiona Categor√≠as, Marcas y Productos (Swagger UI)",
        "destinationId" : "4",
        "id" : "14",
        "sourceId" : "2",
        "tags" : "Relationship",
        "technology" : "HTTPS/JSON"
      } ],
      "tags" : "Element,Person"
    } ],
    "softwareSystems" : [ {
      "containers" : [ {
        "description" : "Maneja la autenticaci√≥n, autorizaci√≥n, y la l√≥gica de negocio del cat√°logo.",
        "documentation" : { },
        "id" : "4",
        "name" : "API Backend",
        "properties" : {
          "structurizr.dsl.identifier" : "api"
        },
        "relationships" : [ {
          "description" : "Lee/Escribe datos del cat√°logo y usuarios",
          "destinationId" : "5",
          "id" : "16",
          "sourceId" : "4",
          "tags" : "Relationship",
          "technology" : "SQL/SQLModel"
        } ],
        "tags" : "Element,Container,API",
        "technology" : "Python 3.13 slim + FastAPI"
      }, {
        "description" : "Almacena usuarios, roles, hashes de contrase√±as, productos, marcas y categor√≠as.",
        "documentation" : { },
        "id" : "5",
        "name" : "Base de Datos",
        "properties" : {
          "structurizr.dsl.identifier" : "database"
        },
        "tags" : "Element,Container,Database",
        "technology" : "PostgreSQL 15-alpine"
      } ],
      "description" : "Plataforma para buscar, comparar y comprar hardware.",
      "documentation" : {
        "decisions" : [ {
          "content" : "# 1. Selecci√≥n de Stack Tecnol√≥gico para Backend\n\n**Fecha:** 2025-12-09\n**Estado:** Aceptado\n\n## Contexto\nEl proyecto \"BEGamer Components\" requiere el desarrollo de una API REST eficiente y documentada para gestionar el inventario y las ventas.\n\nLimitaciones:\n* Se requiere validaci√≥n de datos robusta para evitar errores en las √≥rdenes de compra.\n\n## Decisi√≥n\nSe utilizar√° el lenguaje **Python** v3.13 junto con el framework **FastAPI**.\n\n## Consecuencias\n\n### Positivas\n* **Velocidad de Desarrollo:** Al aprovechar el conocimiento existente en Python, se reduce el tiempo de configuraci√≥n y codificaci√≥n (\"Time to market\").\n* **Documentaci√≥n Autom√°tica:** FastAPI genera autom√°ticamente documentaci√≥n interactiva (Swagger UI / OpenAPI), lo cual es vital para probar los endpoints sin construir un frontend inmediatamente.\n* **Validaci√≥n de Datos:** El uso de Pydantic (integrado en FastAPI) asegura que los datos de entrada (precios, stock) sean correctos antes de procesarlos.\n* **Asincronismo:** Permite manejar m√∫ltiples solicitudes concurrentes de manera eficiente.\n* **Librerias.** Esta versi√≥n de Python permitir√° el uso de librerias modernas y actualizadas.\n\n### Negativas / Riesgos\n* **Curva de Aprendizaje en Patrones Avanzados:** Aunque se conoce el framework, la implementaci√≥n de patrones de arquitectura limpia y seguridad avanzada requerir√° investigaci√≥n adicional durante el desarrollo.",
          "date" : "2026-02-13T16:26:00Z",
          "format" : "Markdown",
          "id" : "1",
          "status" : "Proposed",
          "title" : "Selecci√≥n de Stack Tecnol√≥gico para Backend"
        }, {
          "content" : "# Selecci√≥n de Motor de Base de Datos Principal, ORM y gestor de migraciones\n\n* **Estado:** Aceptado\n* **Fecha:** 2025-12-09\n\n## Contexto\nEl sistema de e-commerce \"BEGamer Components\" requiere almacenar informaci√≥n de productos, usuarios, inventario y √≥rdenes de compra. La integridad de los datos en las √≥rdenes y el inventario es cr√≠tica (no podemos vender stock que no existe).\n\n\n## Opciones Consideradas como motor\n* PostgreSQL\n* SQLite\n\n## ORM\n* SQLModel\n\n## Decisi√≥n\nSe seleccionar√° **PostgreSQL** junto a **SQLModel** y **Alembic**.\n\n## Justificaci√≥n\nAl ser un e-commerce, la relaci√≥n entre tablas (Usuario -> Orden -> Detalle -> Producto) es fuerte. Se necesitan transacciones ACID para asegurar que al comprar, se descuente el stock inmediatamente. PostgreSQL ofrece esto y adem√°s tiene buen soporte para JSON si se necesita guardar especificaciones t√©cnicas flexibles de los PC. Para el ORM SQLModel es excelente considerando que se trabaja con FastAPI, ya que \nofrece la validaci√≥n de datos de Pydantic y la definici√≥n de tablas como modelos entre otras cosas, usando SQLAlchemy por debajo. Se usar√° Alembic para la gesti√≥n de migraciones de la base de datos ya que es el √©standar junto a SQLModel/SQLAlchemy\n\n### Consecuencias\n* **Positivas:** Integridad referencial fuerte. Stack tecnol√≥gico alineado con el mercado laboral enterprise, desarrollador con experiencia en PostgreSQL. SQLModel creado por el mismo creador de FastAPI otorgando amplia compatibilidad y funcionamiento.\n* **Negativas:** Requiere definir esquemas (migrations) antes de programar, y una configuracion adicional para la base de datos PostgreSQL. Ademas de que se necesitaran usar librerias asincronas para compatibilidad con la app FastAPI asincrona.\n* **Mitigacion:** Configurar la base de datos mediante docker y diagramar la base de datos con diagrama ER, usar librerias asincronas como asyncpg y librerias de SQLAlchemy para manejar correctamente async. Crear migraciones mediante Alembic.",
          "date" : "2026-02-13T16:26:00Z",
          "format" : "Markdown",
          "id" : "2",
          "status" : "Proposed",
          "title" : " Selecci√≥n de Motor de Base de Datos Principal, ORM y gestor de migraciones"
        }, {
          "content" : "# Selecci√≥n de Estilo(Macro arquitect√≥nico) y Patron Arquitect√≥nico(Micro arquitect√≥nico)\n\n* **Estado:** Aceptado\n* **Fecha:** 2025-12-09\n\n## Contexto\nEl sistema de e-commerce \"BEGamer Components\" requiere un estilo y patrones arquitect√≥nicos que permitan una arquitectura limpia y mantenible. La arquitectura debe ser escalable y segura para proteger la informaci√≥n sensible de los usuarios.\n\n## Estilos arquitect√≥nicos considerados\n* Monolitico\n* Microservicios\n* Monolitico modular\n\n## Patrones arquitect√≥nicos considerados\n* Hexagonal Architecture\n* Layered Architecture\n\n## Decisi√≥n\nSe seleccionar√° **Monolitico modular** junto a **Layered Architecture**.\n\n## Justificaci√≥n\nEl monolitico modular es una arquitectura donde toda la aplicaci√≥n se despliega \ncomo una sola unidad (un solo artefacto/proceso), pero el c√≥digo interno est√° \nestrictamente organizado en m√≥dulos de bajo acomplamiento basados en el dominio \ndel negocio permitiendo que si se necesita escalar un modulo se puede convertir \nen un microservicio, gracias a que sigue siendo un monolito es mas simple para \nun equipo peque√±o, a diferencia de microservicios que requieren mas experiencia \ny mas tiempo para implementar, pero seguimos conservando la ventaja de modulos \ncon bajo acomplamiento. Ademas es optima para un equipo peque√±o. Tambien debido \nal tama√±o del equipo y del proyecto se escogera Layered Architecture ya que \nofrece una forma simple de organizar el codigo. Se encontrara dentro de cada \nmodulo(repository.py, router.py, service.py) y db.py como capa de infraestructura \ncompartida. Modelos pydantic (schemas.py) y tablas de SQLModel(models.py) en \ncada m√≥dulo correspodiente.\n\n### Consecuencias\n* **Positivas:** El desarrollador cuenta con experiencia trabajando con esta arquitectura, ademas layered encaja muy bien con FastAPI.\n* **Negativas:** Disciplina: Requiere madurez. Es muy f√°cil hacer trampa e importar c√≥digo cruzado si no hay reglas de linter estrictas. \n* **Mitigacion:** La comunicaci√≥n entre m√≥dulos se realizar√° mediante llamadas a m√©todos p√∫blicos (interfaces de servicio) y no mediante consultas directas a tablas de otros m√≥dulos.\n",
          "date" : "2026-02-13T16:26:00Z",
          "format" : "Markdown",
          "id" : "3",
          "status" : "Proposed",
          "title" : " Selecci√≥n de Estilo(Macro arquitect√≥nico) y Patron Arquitect√≥nico(Micro arquitect√≥nico)"
        }, {
          "content" : "# 4. Estrategia de Autenticaci√≥n y Seguridad\n\n**Fecha:** 2025-12-23\n**Estado:** Aceptado\n\n## Contexto\nEl sistema requiere identificar a los administradores y clientes de forma segura. Se necesita un mecanismo para mantener la sesi√≥n del usuario entre peticiones de forma eficiente (stateless vs stateful) y una forma robusta de almacenar credenciales, ya que almacenar contrase√±as en texto plano es inaceptable.\n\n## Decisiones\n\n### 1. Mecanismo de Sesi√≥n: JWT (JSON Web Tokens)\nSe utilizar√° el esquema de autenticaci√≥n **Bearer Token** con **JWT**.\n* **Justificaci√≥n:** Permite que la API sea completamente *stateless* (sin guardar sesiones en memoria o BD), lo que facilita el escalado horizontal.\n* **Implementaci√≥n:** FastAPI gestionar√° la seguridad de los endpoints mediante `HTTPBearer`, validando la firma del token en cada petici√≥n protegida.\n\n### 2. Almacenamiento de Contrase√±as: Hashing con Argon2\nSe utilizar√° el algoritmo **Argon2** (v√≠a librer√≠a `pwdlib`).\n* **Justificaci√≥n:** Argon2 es el ganador de la *Password Hashing Competition*. Es resistente a ataques de fuerza bruta por GPU/ASIC, siendo superior a est√°ndares antiguos como SHA256 o MD5.\n\n### 3. Librer√≠a de Criptograf√≠a: PyJWT\nSe utilizar√° **PyJWT** para la generaci√≥n (codificaci√≥n) y validaci√≥n (decodificaci√≥n) de los tokens.\n\n## Consecuencias\n* **Responsabilidad del Cliente:** El frontend (o cliente API) debe encargarse de almacenar el token de forma segura y enviarlo en el header `Authorization` en cada petici√≥n.",
          "date" : "2026-02-13T16:26:00Z",
          "format" : "Markdown",
          "id" : "4",
          "status" : "Proposed",
          "title" : "Estrategia de Autenticaci√≥n y Seguridad"
        }, {
          "content" : "# 5. Estrategia de Identificadores (Primary Keys): UUIDv7\n\n**Fecha:** 2025-12-31\n**Estado:** Aceptado\n\n## Contexto\nEl sistema requiere identificadores √∫nicos para todas las entidades (Usuarios, Productos, √ìrdenes). \nEl uso de identificadores secuenciales tradicionales (Integers autoincrementales: 1, 2, 3...) presenta problemas de seguridad (permiten enumeraci√≥n de recursos y estimaci√≥n del volumen de negocio) y dificultades en entornos distribuidos.\nPor otro lado, los UUIDv4 (totalmente aleatorios) resuelven la seguridad, pero causan problemas de rendimiento en las bases de datos al fragmentar los √≠ndices debido a su falta de orden secuencial.\n\n## Decisi√≥n\nSe utilizar√° **UUIDv7** como Clave Primaria (Primary Key) est√°ndar para todas las tablas del sistema.\n\nLos IDs ser√°n generados a nivel de aplicaci√≥n (FastAPI/Python) antes de la inserci√≥n, utilizando librer√≠as compatibles con el borrador del est√°ndar IETF (ej: `uuid6` o `uuid-utils`).\n\n## Justificaci√≥n\nSe eligi√≥ la versi√≥n 7 sobre la versi√≥n 4 o los Integers por las siguientes razones:\n\n1.  **Ordenable por Tiempo (Time-sortable):** UUIDv7 incluye una marca de tiempo en sus primeros bits. Esto permite que los √≠ndices B-Tree de PostgreSQL mantengan un orden f√≠sico eficiente, evitando la fragmentaci√≥n y la penalizaci√≥n de rendimiento en las inserciones (INSERT) que sufren los UUIDv4.\n2.  **Seguridad:** Al igual que UUIDv4, son pr√°cticamente imposibles de adivinar, evitando ataques de enumeraci√≥n (ej: un atacante no puede probar `/users/5` y luego `/users/6`).\n3.  **Generaci√≥n Distribuida:** No se depende de la base de datos para generar el ID (como con `serial`), lo que facilita generar IDs en el c√≥digo Python.\n\n## Consecuencias\n\n### Positivas\n* **Rendimiento de Base de Datos:** Las inserciones masivas ser√°n m√°s r√°pidas que con UUIDv4.\n* **Ordenamiento Impl√≠cito:** Se podra ordenar por la columna `id` y se obtendra el orden cronol√≥gico de creaci√≥n.\n* **Consistencia:** Todo el sistema usa el mismo formato de 128-bits.\n\n### Negativas / Requisitos\n* **Dependencia:** Python (en versiones < 3.13) no trae UUIDv7 nativo, por lo que se requiere instalar la dependencia externa `uuid6`.\n* **Almacenamiento:** Un UUID ocupa 128 bits (16 bytes), que es m√°s que un Integer (4 bytes) o BigInt (8 bytes), lo que aumenta ligeramente el tama√±o de la BD y los √≠ndices, un costo aceptable por las ventajas obtenidas.",
          "date" : "2026-02-13T16:26:00Z",
          "format" : "Markdown",
          "id" : "5",
          "status" : "Proposed",
          "title" : "Estrategia de Identificadores (Primary Keys): UUIDv7"
        } ],
        "sections" : [ {
          "content" : "# BeGamer Components - Documentaci√≥n de Arquitectura\n\n## üéØ Introducci√≥n\n**BeGamer Components** es una plataforma de comercio electr√≥nico especializada en la venta de hardware para PC. Este sistema gestiona el cat√°logo de productos (componentes), inventario, marcas y categor√≠as, exponiendo una API RESTful para el consumo de clientes frontend y administradores.\n\nEsta documentaci√≥n describe la arquitectura de software del sistema utilizando los dos primeros niveles del modelo **C4 (Context y Containers)** y registra las Decisiones de Arquitectura (ADRs) clave que gu√≠an el desarrollo.\n\n> **Nota de Estado:** Este proyecto se encuentra en desarrollo activo. Algunas integraciones descritas en el nivel de contexto (como Pasarela de Pagos o SII) representan el **dise√±o arquitect√≥nico objetivo** y se encuentran en fase de planificaci√≥n o simulaci√≥n, no necesariamente implementadas en el c√≥digo productivo actual.\n\n## üèóÔ∏è Estructura de la Documentaci√≥n\n\nEn este sitio encontrar√°s:\n\n1.  **Modelo C4 (Arquitectura):**\n    * **Nivel 1 - Contexto del Sistema:** Visi√≥n general de los actores (Cliente, Admin) y c√≥mo el sistema **interactuar√°** con servicios externos (Webpay, SII, Correo) en su versi√≥n final.\n    * **Nivel 2 - Contenedores:** Desglose detallado de la arquitectura actual del Backend (API FastAPI), la Base de Datos y sus responsabilidades.\n2.  **Modelo de Datos:** Diagramas Entidad-Relaci√≥n (ER) de las tablas implementadas.\n3.  **Decisiones de Arquitectura (ADRs):** Registro hist√≥rico del \"por qu√©\" de las decisiones t√©cnicas (FastAPI, UUIDv7, PostgreSQL, etc.).\n\n## üöÄ Tecnolog√≠as Clave\nEl sistema est√° construido sobre un stack moderno enfocado en rendimiento y seguridad:\n\n* **Lenguaje:** Python 3.13\n* **Framework Web:** FastAPI (As√≠ncrono)\n* **Base de Datos:** PostgreSQL 15\n* **Seguridad:** OAuth2 con JWT y Hashing Argon2\n* **Infraestructura:** Docker & Docker Compose\n\n## üë§ Autor√≠a\nEste proyecto es una iniciativa de desarrollo personal para aplicar est√°ndares de ingenier√≠a de software en un entorno simulado.\n\n* **Autor:** Bruno Ruiz\n* **Repositorio:** [GitHub](https://github.com/bruizn/begamer-pc-components)",
          "filename" : "01_introduccion.md",
          "format" : "Markdown",
          "order" : 1,
          "title" : ""
        }, {
          "content" : "# Modelo de Datos (Iteraci√≥n actual)\n\n**Nota de Dise√±o:** Se utiliza UUIDv7 para la Clave Primaria. Esto permite mantener la base de datos indexada eficientemente por tiempo, evitando la fragmentaci√≥n que producen los UUIDv4 aleatorios.\n\n```mermaid\nerDiagram\n    user {\n        UUID user_id PK \"UUIDv7\"\n        VARCHAR email UK \"Unique\"\n        VARCHAR hashed_password\n        VARCHAR role\n        BOOLEAN is_active\n        DATETIME created_at\n        DATETIME updated_at\n    }\n\n    category {\n        UUID category_id PK \"UUIDv7\"\n        VARCHAR name UK\n        VARCHAR code UK \"Ej: GPU\"\n        BOOLEAN is_active\n        DATETIME created_at\n        DATETIME updated_at\n    }\n\n    brand {\n        UUID brand_id PK \"UUIDv7\"\n        VARCHAR name UK\n        VARCHAR code UK \"Ej: ASU\"\n        BOOLEAN is_active\n        DATETIME created_at\n        DATETIME updated_at\n    }\n\n    product {\n        UUID product_id PK \"UUIDv7\"\n        VARCHAR name UK \"Unique, Index\"\n        VARCHAR model_slug UK \"Unique, Index\"\n        TEXT description\n        UUID category_id FK\n        UUID brand_id FK\n        BOOLEAN is_active\n        DATETIME created_at\n        DATETIME updated_at\n    }\n\n    %% Relaciones\n    category ||--|{ product : \"clasifica a\"\n    brand    ||--|{ product : \"fabrica a\"",
          "filename" : "er.md",
          "format" : "Markdown",
          "order" : 2,
          "title" : ""
        } ]
      },
      "id" : "3",
      "location" : "Unspecified",
      "name" : "BEGamer Components",
      "properties" : {
        "structurizr.dsl.identifier" : "ecommerce"
      },
      "relationships" : [ {
        "description" : "Inicia transacci√≥n y valida estado",
        "destinationId" : "6",
        "id" : "11",
        "sourceId" : "3",
        "tags" : "Relationship"
      }, {
        "description" : "Solicita folio y timbre electr√≥nico (Simulado)",
        "destinationId" : "7",
        "id" : "12",
        "sourceId" : "3",
        "tags" : "Relationship"
      }, {
        "description" : "Env√≠a correos electr√≥nicos a clientes",
        "destinationId" : "8",
        "id" : "13",
        "sourceId" : "3",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System"
    }, {
      "description" : "Gestiona transacciones bancarias en ambiente de pruebas.",
      "documentation" : { },
      "id" : "6",
      "location" : "Unspecified",
      "name" : "Pasarela de Pagos (Sandbox)",
      "properties" : {
        "structurizr.dsl.identifier" : "webpay"
      },
      "tags" : "Element,Software System,External System"
    }, {
      "description" : "Simula la validaci√≥n y emisi√≥n de boletas para fines acad√©micos.",
      "documentation" : { },
      "id" : "7",
      "location" : "Unspecified",
      "name" : "Servicio Impuestos Internos (Mock)",
      "properties" : {
        "structurizr.dsl.identifier" : "sii"
      },
      "tags" : "Element,Software System,External System"
    }, {
      "description" : "Env√≠a confirmaciones de √≥rdenes y recuperaci√≥n de claves.",
      "documentation" : { },
      "id" : "8",
      "location" : "Unspecified",
      "name" : "Sistema de Correo",
      "properties" : {
        "structurizr.dsl.identifier" : "email_system"
      },
      "tags" : "Element,Software System,External System"
    } ]
  },
  "name" : "Name",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlIHsKCiAgICBtb2RlbCB7CiAgICAgICAgIyAtLS0gQWN0b3JlcyAtLS0KICAgICAgICBjbGllbnRlID0gcGVyc29uICJDbGllbnRlIiAiUGVyc29uYSBpbnRlcmVzYWRhIGVuIGFybWFyIG8gbWVqb3JhciBzdSBQQy4iCiAgICAgICAgYWRtaW4gPSBwZXJzb24gIkFkbWluaXN0cmFkb3IiICJHZXN0aW9uYSBlbCBzdG9jayB5IGxvcyBwcmVjaW9zIGRlIGNvbXBvbmVudGVzLiIKCiAgICAgICAgIyAtLS0gVHUgU2lzdGVtYSAtLS0KICAgICAgICBlY29tbWVyY2UgPSBzb2Z0d2FyZVN5c3RlbSAiQkVHYW1lciBDb21wb25lbnRzIiAiUGxhdGFmb3JtYSBwYXJhIGJ1c2NhciwgY29tcGFyYXIgeSBjb21wcmFyIGhhcmR3YXJlLiIgewogICAgICAgICAgICAjIExlIGRpY2UgYSBTdHJ1Y3R1cml6ciBxdWUgYnVzcXVlIGxhIGRvY3VtZW50YWNpw7NuIGRlbnRybyBkZSBlc3RhcyBjYXJwZXRhcyAKICAgICAgICAgICAgIWRvY3MgZG9jcwogICAgICAgICAgICAhYWRycyBhZHJzCiAgICAgICAgICAgIGFwaSA9IGNvbnRhaW5lciAiQVBJIEJhY2tlbmQiICJNYW5lamEgbGEgYXV0ZW50aWNhY2nDs24sIGF1dG9yaXphY2nDs24sIHkgbGEgbMOzZ2ljYSBkZSBuZWdvY2lvIGRlbCBjYXTDoWxvZ28uIiAiUHl0aG9uIDMuMTMgc2xpbSArIEZhc3RBUEkiIHsKICAgICAgICAgICAgICAgIHRhZ3MgIkFQSSIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGF0YWJhc2UgPSBjb250YWluZXIgIkJhc2UgZGUgRGF0b3MiICJBbG1hY2VuYSB1c3Vhcmlvcywgcm9sZXMsIGhhc2hlcyBkZSBjb250cmFzZcOxYXMsIHByb2R1Y3RvcywgbWFyY2FzIHkgY2F0ZWdvcsOtYXMuIiAiUG9zdGdyZVNRTCAxNS1hbHBpbmUiIHsKICAgICAgICAgICAgICAgIHRhZ3MgIkRhdGFiYXNlIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjIC0tLSBTaXN0ZW1hcyBFeHRlcm5vcyAtLS0KICAgICAgICB3ZWJwYXkgPSBzb2Z0d2FyZVN5c3RlbSAiUGFzYXJlbGEgZGUgUGFnb3MgKFNhbmRib3gpIiAiR2VzdGlvbmEgdHJhbnNhY2Npb25lcyBiYW5jYXJpYXMgZW4gYW1iaWVudGUgZGUgcHJ1ZWJhcy4iICJFeHRlcm5hbCBTeXN0ZW0iCiAgICAgICAgCiAgICAgICAgc2lpID0gc29mdHdhcmVTeXN0ZW0gIlNlcnZpY2lvIEltcHVlc3RvcyBJbnRlcm5vcyAoTW9jaykiICJTaW11bGEgbGEgdmFsaWRhY2nDs24geSBlbWlzacOzbiBkZSBib2xldGFzIHBhcmEgZmluZXMgYWNhZMOpbWljb3MuIiAiRXh0ZXJuYWwgU3lzdGVtIgogICAgICAgIGVtYWlsX3N5c3RlbSA9IHNvZnR3YXJlU3lzdGVtICJTaXN0ZW1hIGRlIENvcnJlbyIgIkVudsOtYSBjb25maXJtYWNpb25lcyBkZSDDs3JkZW5lcyB5IHJlY3VwZXJhY2nDs24gZGUgY2xhdmVzLiIgIkV4dGVybmFsIFN5c3RlbSIKICAgCiAgICAgICAgIyAtLS0gUmVsYWNpb25lcyBuaXZlbCAxIC0tLQogICAgICAgIGNsaWVudGUgLT4gZWNvbW1lcmNlICJCdXNjYSBjb21wb25lbnRlcyB5IGNvbXByYSIKICAgICAgICBhZG1pbiAtPiBlY29tbWVyY2UgIkdlc3Rpb25hIGludmVudGFyaW8iCiAgICAgICAgZWNvbW1lcmNlIC0+IHdlYnBheSAiSW5pY2lhIHRyYW5zYWNjacOzbiB5IHZhbGlkYSBlc3RhZG8iCiAgICAgICAgZWNvbW1lcmNlIC0+IHNpaSAiU29saWNpdGEgZm9saW8geSB0aW1icmUgZWxlY3Ryw7NuaWNvIChTaW11bGFkbykiCiAgICAgICAgZWNvbW1lcmNlIC0+IGVtYWlsX3N5c3RlbSAiRW52w61hIGNvcnJlb3MgZWxlY3Ryw7NuaWNvcyBhIGNsaWVudGVzIgogICAgICAgICMgLS0tIFJlbGFjaW9uZXMgbml2ZWwgMiAtLS0KICAgICAgICBhZG1pbiAtPiBhcGkgIkdlc3Rpb25hIENhdGVnb3LDrWFzLCBNYXJjYXMgeSBQcm9kdWN0b3MgKFN3YWdnZXIgVUkpIiAiSFRUUFMvSlNPTiIKICAgICAgICBjbGllbnRlIC0+IGFwaSAiQ29uc3VsdGEgUHJvZHVjdG9zIERpc3BvbmlibGVzIChTd2FnZ2VyIFVJKSIgIkhUVFBTL0pTT04iCiAgICAgICAgYXBpIC0+IGRhdGFiYXNlICJMZWUvRXNjcmliZSBkYXRvcyBkZWwgY2F0w6Fsb2dvIHkgdXN1YXJpb3MiICJTUUwvU1FMTW9kZWwiCgoKICAgIH0KCiAgICB2aWV3cyB7CiAgICAgICAgc3lzdGVtQ29udGV4dCBlY29tbWVyY2UgIkRpYWdyYW1hQ29udGV4dG8iIHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgICAgIGF1dG9sYXlvdXQgbHIKICAgICAgICAgICAgdGl0bGUgIkRpYWdyYW1hIGRlIENvbnRleHRvIC0gVmVudGEgZGUgUEMgKEVudG9ybm8gQWNhZMOpbWljbykiCiAgICAgICAgfQogICAgICAgICMgVmlzdGEgTml2ZWwgMiAoQ29udGVuZWRvcmVzKQogICAgICAgIGNvbnRhaW5lciBlY29tbWVyY2UgIkNvbnRlbmVkb3JlcyIgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICAgICAgYXV0b2xheW91dCBscgogICAgICAgICAgICB0aXRsZSAiTml2ZWwgMjogQ29udGVuZWRvcmVzIChGb2NvOiBBdXRlbnRpY2FjacOzbikiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHN0eWxlcyB7CiAgICAgICAgICAgIGVsZW1lbnQgIlBlcnNvbiIgewogICAgICAgICAgICAgICAgc2hhcGUgUGVyc29uCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICMwODQyN2IKICAgICAgICAgICAgICAgIGNvbG9yICNmZmZmZmYKICAgICAgICAgICAgfQogICAgICAgICAgICBlbGVtZW50ICJTb2Z0d2FyZSBTeXN0ZW0iIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQgIzExNjhiZAogICAgICAgICAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICAgICAgICB9CiAgICAgICAgICAgICMgRXN0aWxvIHBhcmEgc2lzdGVtYXMgZXh0ZXJub3MgcmVhbGVzIG8gc2ltdWxhZG9zCiAgICAgICAgICAgIGVsZW1lbnQgIkV4dGVybmFsIFN5c3RlbSIgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjOTk5OTk5CiAgICAgICAgICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgICAgICAgIH0KICAgICAgICAgICAgIyBFc3RpbG8gdmlzdWFsIHBhcmEgZGlmZXJlbmNpYXIgQVBJIGRlIEJhc2UgZGUgRGF0b3MKICAgICAgICAgICAgZWxlbWVudCAiQVBJIiB7CiAgICAgICAgICAgICAgICBzaGFwZSBSb3VuZGVkQm94CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICM0MzhkZDUKICAgICAgICAgICAgICAgIGNvbG9yICNmZmZmZmYKICAgICAgICAgICAgfQogICAgICAgICAgICBlbGVtZW50ICJEYXRhYmFzZSIgewogICAgICAgICAgICAgICAgc2hhcGUgQ3lsaW5kZXIKICAgICAgICAgICAgICAgIGJhY2tncm91bmQgIzI1NWZhMQogICAgICAgICAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9"
  },
  "views" : {
    "configuration" : {
      "branding" : { },
      "styles" : {
        "elements" : [ {
          "background" : "#08427b",
          "color" : "#ffffff",
          "shape" : "Person",
          "tag" : "Person"
        }, {
          "background" : "#1168bd",
          "color" : "#ffffff",
          "tag" : "Software System"
        }, {
          "background" : "#999999",
          "color" : "#ffffff",
          "tag" : "External System"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "shape" : "RoundedBox",
          "tag" : "API"
        }, {
          "background" : "#255fa1",
          "color" : "#ffffff",
          "shape" : "Cylinder",
          "tag" : "Database"
        } ]
      },
      "terminology" : { }
    },
    "containerViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "2",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "4",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "5",
        "x" : 0,
        "y" : 0
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "Contenedores",
      "order" : 2,
      "relationships" : [ {
        "id" : "14"
      }, {
        "id" : "15"
      }, {
        "id" : "16"
      } ],
      "softwareSystemId" : "3",
      "title" : "Nivel 2: Contenedores (Foco: Autenticaci√≥n)"
    } ],
    "systemContextViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "2",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "3",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "6",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "7",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "8",
        "x" : 0,
        "y" : 0
      } ],
      "enterpriseBoundaryVisible" : true,
      "key" : "DiagramaContexto",
      "order" : 1,
      "relationships" : [ {
        "id" : "10"
      }, {
        "id" : "11"
      }, {
        "id" : "12"
      }, {
        "id" : "13"
      }, {
        "id" : "9"
      } ],
      "softwareSystemId" : "3",
      "title" : "Diagrama de Contexto - Venta de PC (Entorno Acad√©mico)"
    } ]
  }
}